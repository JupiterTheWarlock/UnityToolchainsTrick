# Unity动画属性关键帧控制工具

这个示例展示了如何在Unity中使用NotKeyable特性来控制属性是否可以在动画中设置关键帧。

## 功能特点

- 控制属性动画关键帧
- 防止属性被动画修改
- 支持多种属性类型
- 编辑器集成支持
- 运行时保护机制
- 自动状态管理
- 支持序列化属性

## 使用方法

1. 在脚本中为需要保护的属性添加 `[NotKeyable]` 特性：
   ```csharp
   public class MyComponent : MonoBehaviour
   {
       // 可以设置动画关键帧的属性
       public int normalProperty;
       
       // 禁止设置动画关键帧的属性
       [UnityEngine.Animations.NotKeyable]
       public int protectedProperty;
   }
   ```

2. 特性效果：
   - 被标记的属性在动画窗口中无法设置关键帧
   - 属性值不会被动画系统修改
   - 仍然可以通过脚本修改属性值

## 技术细节

- 使用 `NotKeyable` 特性标记属性
- 与Unity动画系统集成
- 支持Inspector面板显示
- 提供完整的属性保护机制
- 自动处理序列化状态

## 应用场景

1. 配置属性保护
   - 运行时配置项
   - 初始化参数
   - 只读属性值
   
2. 动画控制
   - 防止误操作
   - 保护关键数据
   - 优化动画设置
   
3. 开发规范
   - 明确属性用途
   - 提高代码可维护性
   - 减少潜在错误

## 实现原理

1. 属性标记
   - 使用特性标记
   - 处理序列化
   - 管理元数据
   - 保持数据一致

2. 动画系统集成
   - 阻止关键帧设置
   - 处理动画事件
   - 维护属性状态
   - 确保数据安全

3. 编辑器支持
   - 自定义Inspector显示
   - 提供错误提示
   - 优化用户体验
   - 保持开发效率

## 支持类型

1. 基础类型
   - 整数 (int)
   - 浮点数 (float)
   - 布尔值 (bool)
   - 字符串 (string)
   
2. Unity类型
   - Vector2/3/4
   - Quaternion
   - Color
   - Transform

## 注意事项

- 合理使用特性标记
- 注意属性访问权限
- 处理序列化问题
- 考虑性能影响
- 维护代码可读性

## 开发环境要求

- Unity 2018.4或更高版本
- .NET Framework 4.x 